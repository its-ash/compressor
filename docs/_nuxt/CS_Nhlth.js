import"./GXuH6ugM.js";function U(e,n,t){const i=y(e,r.__wbindgen_malloc),o=_,f=m(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=_,s=r.compress_image(i,o,n,f,c);if(s[2])throw l(s[1]);return l(s[0])}function v(e,n,t,i,o){const f=y(e,r.__wbindgen_malloc),c=_,s=r.crop_image(f,c,n,t,i,o);if(s[2])throw l(s[1]);return l(s[0])}function j(){r.init_console_panic_hook()}function L(e,n,t,i,o,f){const c=y(e,r.__wbindgen_malloc),s=_,a=m(o,r.__wbindgen_malloc,r.__wbindgen_realloc),R=_,h=r.optimize_image(c,s,n,t,i,a,R,f);if(h[2])throw l(h[1]);return l(h[0])}function z(e,n,t,i){const o=y(e,r.__wbindgen_malloc),f=_,c=S(n,r.__wbindgen_malloc),s=_,a=r.perspective_crop(o,f,c,s,t,i);if(a[2])throw l(a[1]);return l(a[0])}function B(e,n,t,i){const o=y(e,r.__wbindgen_malloc),f=_,c=m(i,r.__wbindgen_malloc,r.__wbindgen_realloc),s=_,a=r.resize_image(o,f,n,t,c,s);if(a[2])throw l(a[1]);return l(a[0])}function M(){return{__proto__:null,"./image_tools_bg.js":{__proto__:null,__wbg___wbindgen_throw_be289d5034ed271b:function(n,t){throw new Error(A(n,t))},__wbg_error_7534b8e9a36f1ab4:function(n,t){let i,o;try{i=n,o=t,console.error(A(n,t))}finally{r.__wbindgen_free(i,o,1)}},__wbg_new_8a6f238a6ece86ea:function(){return new Error},__wbg_new_from_slice_a3d2629dc1826784:function(n,t){return new Uint8Array(E(n,t))},__wbg_stack_0ed75d68575b0f3c:function(n,t){const i=t.stack,o=m(i,r.__wbindgen_malloc,r.__wbindgen_realloc),f=_;x().setInt32(n+4,f,!0),x().setInt32(n+0,o,!0)},__wbindgen_cast_0000000000000001:function(n,t){return A(n,t)},__wbindgen_init_externref_table:function(){const n=r.__wbindgen_externrefs,t=n.grow(4);n.set(0,void 0),n.set(t+0,void 0),n.set(t+1,null),n.set(t+2,!0),n.set(t+3,!1)}}}}function E(e,n){return e=e>>>0,b().subarray(e/1,e/1+n)}let u=null;function x(){return(u===null||u.buffer.detached===!0||u.buffer.detached===void 0&&u.buffer!==r.memory.buffer)&&(u=new DataView(r.memory.buffer)),u}let w=null;function O(){return(w===null||w.byteLength===0)&&(w=new Float32Array(r.memory.buffer)),w}function A(e,n){return e=e>>>0,k(e,n)}let d=null;function b(){return(d===null||d.byteLength===0)&&(d=new Uint8Array(r.memory.buffer)),d}function y(e,n){const t=n(e.length*1,1)>>>0;return b().set(e,t/1),_=e.length,t}function S(e,n){const t=n(e.length*4,4)>>>0;return O().set(e,t/4),_=e.length,t}function m(e,n,t){if(t===void 0){const s=g.encode(e),a=n(s.length,1)>>>0;return b().subarray(a,a+s.length).set(s),_=s.length,a}let i=e.length,o=n(i,1)>>>0;const f=b();let c=0;for(;c<i;c++){const s=e.charCodeAt(c);if(s>127)break;f[o+c]=s}if(c!==i){c!==0&&(e=e.slice(c)),o=t(o,i,i=c+e.length*3,1)>>>0;const s=b().subarray(o+c,o+i),a=g.encodeInto(e,s);c+=a.written,o=t(o,i,c,1)>>>0}return _=c,o}function l(e){const n=r.__wbindgen_externrefs.get(e);return r.__externref_table_dealloc(e),n}let p=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});p.decode();const F=2146435072;let W=0;function k(e,n){return W+=n,W>=F&&(p=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),p.decode(),W=n),p.decode(b().subarray(e,e+n))}const g=new TextEncoder;"encodeInto"in g||(g.encodeInto=function(e,n){const t=g.encode(e);return n.set(t),{read:e.length,written:t.length}});let _=0,r;function T(e,n){return r=e.exports,u=null,w=null,d=null,r.__wbindgen_start(),r}async function D(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(o){if(e.ok&&t(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const i=await e.arrayBuffer();return await WebAssembly.instantiate(i,n)}else{const i=await WebAssembly.instantiate(e,n);return i instanceof WebAssembly.Instance?{instance:i,module:e}:i}function t(i){switch(i){case"basic":case"cors":case"default":return!0}return!1}}function C(e){if(r!==void 0)return r;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const n=M();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const t=new WebAssembly.Instance(e,n);return T(t)}async function V(e){if(r!==void 0)return r;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL(""+new URL("image_tools_bg.xnsSbktq.wasm",import.meta.url).href,import.meta.url));const n=M();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:i}=await D(await e,n);return T(t)}export{U as compress_image,v as crop_image,V as default,C as initSync,j as init_console_panic_hook,L as optimize_image,z as perspective_crop,B as resize_image};
